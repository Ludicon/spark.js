const float t[8]=float[](0.,.140625,.28125,.421875,.578125,.71875,.859375,1.);uniform mediump sampler2D c;layout(location=0)out uvec4 u;void main(){ivec2 y=ivec2(uvec2(gl_FragCoord.xy)*uvec2(4u));int m=y.x,i=y.y;vec4 f=texelFetch(c,y,0);int x=m+1;vec4 d=texelFetch(c,ivec2(x,i),0);int a=m+2;vec4 n=texelFetch(c,ivec2(a,i),0);int g=m+3;vec4 s=texelFetch(c,ivec2(g,i),0);int b=i+1;vec4 C=texelFetch(c,ivec2(m,b),0),D=texelFetch(c,ivec2(x,b),0),F=texelFetch(c,ivec2(a,b),0),K=texelFetch(c,ivec2(g,b),0);b=i+2;vec4 J=texelFetch(c,ivec2(m,b),0),I=texelFetch(c,ivec2(x,b),0),H=texelFetch(c,ivec2(a,b),0),G=texelFetch(c,ivec2(g,b),0);b=i+3;vec4 E=texelFetch(c,ivec2(m,b),0),B=texelFetch(c,ivec2(x,b),0),A=texelFetch(c,ivec2(a,b),0),L=texelFetch(c,ivec2(g,b),0);float k=f.x,e=k,l=f.y,v=l,M=d.x,N=d.y,O=n.x,P=n.y,Q=s.x,R=s.y,S=C.x,T=C.y,U=D.x,V=D.y,W=F.x,X=F.y,Y=K.x,Z=K.y,_=J.x,h=J.y,j=I.x,o=I.y,p=H.x,q=H.y,r=G.x,w=G.y,z=E.x,am=E.y,at=B.x,ax=B.y,ak=A.x,ae=A.y,au=L.x,ab=L.y,ay=min(min(min(min(min(min(min(min(min(min(min(min(min(min(min(min(1.,e),M),O),Q),S),U),W),Y),_),j),p),r),z),at),ak),au),ac=max(max(max(max(max(max(max(max(max(max(max(max(max(max(max(max(0.,e),M),O),Q),S),U),W),Y),_),j),p),r),z),at),ak),au),av=ac-ay,al=av<.0625?max(0.,av*.0625-.0625):av*.03125,ah=ay>0.?ay+al:ay;av=trunc((ah<1.?ac-al:ac)*255.+.5);ac=trunc(ah*255.+.5);ay=ac==128.?127.:ac;e=av==128.?127.:av;uvec2 ad;do{if(e==ay){ad=uvec2(0u);break;}float u=ay-e,t=e*(-1./u);u=255./u;uint a=uint(clamp(_*u+t,0.,1.)*7.+.5);uvec2 f=uvec2(uint(clamp(k*u+t,0.,1.)*7.+.5)|uint(clamp(M*u+t,0.,1.)*7.+.5)<<uint(3)|uint(clamp(O*u+t,0.,1.)*7.+.5)<<uint(6)|uint(clamp(Q*u+t,0.,1.)*7.+.5)<<uint(9)|uint(clamp(S*u+t,0.,1.)*7.+.5)<<uint(12)|uint(clamp(U*u+t,0.,1.)*7.+.5)<<uint(15)|uint(clamp(W*u+t,0.,1.)*7.+.5)<<uint(18)|uint(clamp(Y*u+t,0.,1.)*7.+.5)<<uint(21),a);f.y=a|uint(clamp(j*u+t,0.,1.)*7.+.5)<<uint(3)|uint(clamp(p*u+t,0.,1.)*7.+.5)<<uint(6)|uint(clamp(r*u+t,0.,1.)*7.+.5)<<uint(9)|uint(clamp(z*u+t,0.,1.)*7.+.5)<<uint(12)|uint(clamp(at*u+t,0.,1.)*7.+.5)<<uint(15)|uint(clamp(ak*u+t,0.,1.)*7.+.5)<<uint(18)|uint(clamp(au*u+t,0.,1.)*7.+.5)<<uint(21);ad=f;break;}while(false);bool ai;do{uint y=ad.x&7u;float u=1.-t[y];uint v=ad.x>>uint(3)&7u;float a=1.-t[v];uint c=ad.x>>uint(6)&7u;float m=1.-t[c];uint b=ad.x>>uint(9)&7u;float i=1.-t[b];uint f=ad.x>>uint(12)&7u;float h=1.-t[f];uint d=ad.x>>uint(15)&7u;float l=1.-t[d];uint n=ad.x>>uint(18)&7u;float N=1.-t[n];uint s=ad.x>>uint(21)&7u;float P=1.-t[s];uint x=ad.y&7u;float R=1.-t[x];uint C=ad.y>>uint(3)&7u;float T=1.-t[C];uint E=ad.y>>uint(6)&7u;float V=1.-t[E];uint J=ad.y>>uint(9)&7u;float X=1.-t[J];uint g=ad.y>>uint(12)&7u;float Z=1.-t[g];uint A=ad.y>>uint(15)&7u;float o=1.-t[A];uint B=ad.y>>uint(18)&7u;float q=1.-t[B];uint D=ad.y>>uint(21)&7u;float w=1.-t[D],F=u*u+a*a+m*m+i*i+h*h+l*l+N*N+P*P+R*R+T*T+V*V+X*X+Z*Z+o*o+q*q+w*w,G=t[y]*t[y]+t[v]*t[v]+t[c]*t[c]+t[b]*t[b]+t[f]*t[f]+t[d]*t[d]+t[n]*t[n]+t[s]*t[s]+t[x]*t[x]+t[C]*t[C]+t[E]*t[E]+t[J]*t[J]+t[g]*t[g]+t[A]*t[A]+t[B]*t[B]+t[D]*t[D],H=u*t[y]+a*t[v]+m*t[c]+i*t[b]+h*t[f]+l*t[d]+N*t[n]+P*t[s]+R*t[x]+T*t[C]+V*t[E]+X*t[J]+Z*t[g]+o*t[A]+q*t[B]+w*t[D];Z=u*k+a*M+m*O+i*Q+h*S+l*U+N*W+P*Y+R*_+T*j+V*p+X*r+Z*z+o*at+q*ak+w*au;o=t[y]*k+t[v]*M+t[c]*O+t[b]*Q+t[f]*S+t[d]*U+t[n]*W+t[s]*Y+t[x]*_+t[C]*j+t[E]*p+t[J]*r+t[g]*z+t[A]*at+t[B]*ak+t[D]*au;q=F*G-H*H;if(abs(q)<.0000999999974738){av=ay;ac=e;ai=false;break;}w=1./q;G=trunc(clamp((Z*G-o*H)*w,0.,1.)*255.+.5);w=trunc(clamp((o*F-Z*H)*w,0.,1.)*255.+.5);w=w==128.?127.:w;F=G==128.?127.:G;av=w;ac=F;ai=F!=e||w!=ay;break;}while(false);uvec2 aw;if(ai){uvec2 u;do{if(ac==av){u=uvec2(0u);break;}float t=av-ac,a=ac*(-1./t);t=255./t;uint i=uint(clamp(_*t+a,0.,1.)*7.+.5);uvec2 f=uvec2(uint(clamp(k*t+a,0.,1.)*7.+.5)|uint(clamp(M*t+a,0.,1.)*7.+.5)<<uint(3)|uint(clamp(O*t+a,0.,1.)*7.+.5)<<uint(6)|uint(clamp(Q*t+a,0.,1.)*7.+.5)<<uint(9)|uint(clamp(S*t+a,0.,1.)*7.+.5)<<uint(12)|uint(clamp(U*t+a,0.,1.)*7.+.5)<<uint(15)|uint(clamp(W*t+a,0.,1.)*7.+.5)<<uint(18)|uint(clamp(Y*t+a,0.,1.)*7.+.5)<<uint(21),i);f.y=i|uint(clamp(j*t+a,0.,1.)*7.+.5)<<uint(3)|uint(clamp(p*t+a,0.,1.)*7.+.5)<<uint(6)|uint(clamp(r*t+a,0.,1.)*7.+.5)<<uint(9)|uint(clamp(z*t+a,0.,1.)*7.+.5)<<uint(12)|uint(clamp(at*t+a,0.,1.)*7.+.5)<<uint(15)|uint(clamp(ak*t+a,0.,1.)*7.+.5)<<uint(18)|uint(clamp(au*t+a,0.,1.)*7.+.5)<<uint(21);u=f;break;}while(false);aw=u;}else aw=ad;uint aG=(aw.x&7190235u)+2396745u^aw.x&9586980u,aa=aG^(19173960u-(aG&14380470u)&19173960u)>>uint(3);aG=(aw.y&7190235u)+2396745u^aw.y&9586980u;k=min(min(min(min(min(min(min(min(min(min(min(min(min(min(min(min(1.,v),N),P),R),T),V),X),Z),h),o),q),w),am),ax),ae),ab);e=max(max(max(max(max(max(max(max(max(max(max(max(max(max(max(max(0.,v),N),P),R),T),V),X),Z),h),o),q),w),am),ax),ae),ab);v=e-k;v=v<.0625?max(0.,v*.0625-.0625):v*.03125;k=k>0.?k+v:k;e=trunc((k<1.?e-v:e)*255.+.5);k=trunc(k*255.+.5);k=k==128.?127.:k;e=e==128.?127.:e;do{if(e==k){aw=uvec2(0u);break;}float u=k-e,t=e*(-1./u);u=255./u;uint a=uint(clamp(h*u+t,0.,1.)*7.+.5);uvec2 f=uvec2(uint(clamp(l*u+t,0.,1.)*7.+.5)|uint(clamp(N*u+t,0.,1.)*7.+.5)<<uint(3)|uint(clamp(P*u+t,0.,1.)*7.+.5)<<uint(6)|uint(clamp(R*u+t,0.,1.)*7.+.5)<<uint(9)|uint(clamp(T*u+t,0.,1.)*7.+.5)<<uint(12)|uint(clamp(V*u+t,0.,1.)*7.+.5)<<uint(15)|uint(clamp(X*u+t,0.,1.)*7.+.5)<<uint(18)|uint(clamp(Z*u+t,0.,1.)*7.+.5)<<uint(21),a);f.y=a|uint(clamp(o*u+t,0.,1.)*7.+.5)<<uint(3)|uint(clamp(q*u+t,0.,1.)*7.+.5)<<uint(6)|uint(clamp(w*u+t,0.,1.)*7.+.5)<<uint(9)|uint(clamp(am*u+t,0.,1.)*7.+.5)<<uint(12)|uint(clamp(ax*u+t,0.,1.)*7.+.5)<<uint(15)|uint(clamp(ae*u+t,0.,1.)*7.+.5)<<uint(18)|uint(clamp(ab*u+t,0.,1.)*7.+.5)<<uint(21);aw=f;break;}while(false);float af;do{uint f=aw.x&7u;float u=1.-t[f];uint y=aw.x>>uint(3)&7u;float a=1.-t[y];uint c=aw.x>>uint(6)&7u;float m=1.-t[c];uint b=aw.x>>uint(9)&7u;float i=1.-t[b];uint d=aw.x>>uint(12)&7u;float x=1.-t[d];uint n=aw.x>>uint(15)&7u;float G=1.-t[n];uint s=aw.x>>uint(18)&7u;float M=1.-t[s];uint C=aw.x>>uint(21)&7u;float O=1.-t[C];uint E=aw.y&7u;float Q=1.-t[E];uint J=aw.y>>uint(3)&7u;float S=1.-t[J];uint g=aw.y>>uint(6)&7u;float U=1.-t[g];uint A=aw.y>>uint(9)&7u;float W=1.-t[A];uint B=aw.y>>uint(12)&7u;float Y=1.-t[B];uint D=aw.y>>uint(15)&7u;float _=1.-t[D];uint F=aw.y>>uint(18)&7u;float j=1.-t[F];uint H=aw.y>>uint(21)&7u;float p=1.-t[H],r=u*u+a*a+m*m+i*i+x*x+G*G+M*M+O*O+Q*Q+S*S+U*U+W*W+Y*Y+_*_+j*j+p*p,z=t[f]*t[f]+t[y]*t[y]+t[c]*t[c]+t[b]*t[b]+t[d]*t[d]+t[n]*t[n]+t[s]*t[s]+t[C]*t[C]+t[E]*t[E]+t[J]*t[J]+t[g]*t[g]+t[A]*t[A]+t[B]*t[B]+t[D]*t[D]+t[F]*t[F]+t[H]*t[H],I=u*t[f]+a*t[y]+m*t[c]+i*t[b]+x*t[d]+G*t[n]+M*t[s]+O*t[C]+Q*t[E]+S*t[J]+U*t[g]+W*t[A]+Y*t[B]+_*t[D]+j*t[F]+p*t[H];Y=u*l+a*N+m*P+i*R+x*T+G*V+M*X+O*Z+Q*h+S*o+U*q+W*w+Y*am+_*ax+j*ae+p*ab;_=t[f]*l+t[y]*N+t[c]*P+t[b]*R+t[d]*T+t[n]*V+t[s]*X+t[C]*Z+t[E]*h+t[J]*o+t[g]*q+t[A]*w+t[B]*am+t[D]*ax+t[F]*ae+t[H]*ab;j=r*z-I*I;if(abs(j)<.0000999999974738){af=k;v=e;ai=false;break;}p=1./j;z=trunc(clamp((Y*z-_*I)*p,0.,1.)*255.+.5);p=trunc(clamp((_*r-Y*I)*p,0.,1.)*255.+.5);p=p==128.?127.:p;r=z==128.?127.:z;af=p;v=r;ai=r!=e||p!=k;break;}while(false);uvec2 ap;if(ai){uvec2 u;do{if(v==af){u=uvec2(0u);break;}float t=af-v,a=v*(-1./t);t=255./t;uint i=uint(clamp(h*t+a,0.,1.)*7.+.5);uvec2 f=uvec2(uint(clamp(l*t+a,0.,1.)*7.+.5)|uint(clamp(N*t+a,0.,1.)*7.+.5)<<uint(3)|uint(clamp(P*t+a,0.,1.)*7.+.5)<<uint(6)|uint(clamp(R*t+a,0.,1.)*7.+.5)<<uint(9)|uint(clamp(T*t+a,0.,1.)*7.+.5)<<uint(12)|uint(clamp(V*t+a,0.,1.)*7.+.5)<<uint(15)|uint(clamp(X*t+a,0.,1.)*7.+.5)<<uint(18)|uint(clamp(Z*t+a,0.,1.)*7.+.5)<<uint(21),i);f.y=i|uint(clamp(o*t+a,0.,1.)*7.+.5)<<uint(3)|uint(clamp(q*t+a,0.,1.)*7.+.5)<<uint(6)|uint(clamp(w*t+a,0.,1.)*7.+.5)<<uint(9)|uint(clamp(am*t+a,0.,1.)*7.+.5)<<uint(12)|uint(clamp(ax*t+a,0.,1.)*7.+.5)<<uint(15)|uint(clamp(ae*t+a,0.,1.)*7.+.5)<<uint(18)|uint(clamp(ab*t+a,0.,1.)*7.+.5)<<uint(21);u=f;break;}while(false);ap=u;}else ap=aw;uint aF=(ap.x&7190235u)+2396745u^ap.x&9586980u,ag=aF^(19173960u-(aF&14380470u)&19173960u)>>uint(3),an=(ap.y&7190235u)+2396745u^ap.y&9586980u;u=uvec4(uint(ac)|uint(av)<<uint(8)|aa<<uint(16),aa>>uint(16)|(aG^(19173960u-(aG&14380470u)&19173960u)>>uint(3))<<uint(8),uint(v)|uint(af)<<uint(8)|ag<<uint(16),ag>>uint(16)|(an^(19173960u-(an&14380470u)&19173960u)>>uint(3))<<uint(8));}
uniform mediump sampler2D u;layout(location=0)out uvec4 f;void main(){ivec2 c=ivec2(uvec2(gl_FragCoord.xy)*uvec2(4u));int x=c.x,i=c.y,t=x+1,g=x+2,l=x+3,n=i+1,y=i+2,C=i+3;float m[16]=float[](texelFetch(u,c,0).x,texelFetch(u,ivec2(t,i),0).x,texelFetch(u,ivec2(g,i),0).x,texelFetch(u,ivec2(l,i),0).x,texelFetch(u,ivec2(x,n),0).x,texelFetch(u,ivec2(t,n),0).x,texelFetch(u,ivec2(g,n),0).x,texelFetch(u,ivec2(l,n),0).x,texelFetch(u,ivec2(x,y),0).x,texelFetch(u,ivec2(t,y),0).x,texelFetch(u,ivec2(g,y),0).x,texelFetch(u,ivec2(l,y),0).x,texelFetch(u,ivec2(x,C),0).x,texelFetch(u,ivec2(t,C),0).x,texelFetch(u,ivec2(g,C),0).x,texelFetch(u,ivec2(l,C),0).x),D[16]=m;float b,v,F=m[0];v=m[0];b=m[0];for(int u=1;u<16;){F+=m[u];v=max(v,m[u]);b=min(b,m[u]);u++;continue;}b*=255.;v*=255.;float e=v-b;bool s=e>8.;e=clamp(trunc(e*(s?.0412900000810623:.0543290004134178)),1.,15.);float H=510./e;b=30.-trunc(.5*(e+b+v))*(2./e);uint G=s?2857717760u:4289374800u,E=s?1073741738u:1073741823u,B=~(int(s)==0?28143u:14526u),A=clamp(uint(D[0]*H+b),0u,59u),I=uint(A>28u);A-=29u;bool J=I==0u;A=J?~A:A;A=(A>15u?E:G)>>(2u*A&31u)&3u;v=float(B>>4u*A&15u);uint K=clamp(uint(D[4]*H+b),0u,59u),L=uint(K>28u);K-=29u;bool M=L==0u;K=M?~K:K;K=(K>15u?E:G)>>(2u*K&31u)&3u;float N=float(B>>4u*K&15u);uint O=clamp(uint(D[8]*H+b),0u,59u),P=uint(O>28u);O-=29u;bool Q=P==0u;O=Q?~O:O;O=(O>15u?E:G)>>(2u*O&31u)&3u;float R=float(B>>4u*O&15u);uint S=clamp(uint(D[12]*H+b),0u,59u),T=uint(S>28u);S-=29u;bool U=T==0u;S=U?~S:S;S=(S>15u?E:G)>>(2u*S&31u)&3u;float V=float(B>>4u*S&15u);uint W=clamp(uint(D[1]*H+b),0u,59u),X=uint(W>28u);W-=29u;bool Y=X==0u;W=Y?~W:W;W=(W>15u?E:G)>>(2u*W&31u)&3u;float Z=float(B>>4u*W&15u);uint _=clamp(uint(D[5]*H+b),0u,59u),a=uint(_>28u),d=_-29u;bool h=a==0u;uint j=h?~d:d,k=(j>15u?E:G)>>(2u*j&31u)&3u;float o=float(B>>4u*k&15u);uint p=clamp(uint(D[9]*H+b),0u,59u),q=uint(p>28u),r=p-29u;bool w=q==0u;uint z=w?~r:r,at=(z>15u?E:G)>>(2u*z&31u)&3u;float au=float(B>>4u*at&15u);uint am=clamp(uint(D[13]*H+b),0u,59u),aA=uint(am>28u),ax=am-29u;bool as=aA==0u;uint aB=as?~ax:ax,ab=(aB>15u?E:G)>>(2u*aB&31u)&3u;float aE=float(B>>4u*ab&15u);uint av=(A|I<<2u)<<uint(21)|(K|L<<2u)<<uint(18)|(O|P<<2u)<<uint(15)|(S|T<<2u)<<uint(12)|(W|X<<2u)<<uint(9)|(k|a<<2u)<<uint(6)|(at|q<<2u)<<uint(3)|(ab|aA<<2u),ae=clamp(uint(D[2]*H+b),0u,59u),aI=uint(ae>28u),ag=ae-29u;bool aJ=aI==0u;uint aK=aJ?~ag:ag,aO=(aK>15u?E:G)>>(2u*aK&31u)&3u;float aG=float(B>>4u*aO&15u);uint ap=clamp(uint(D[6]*H+b),0u,59u),aL=uint(ap>28u),al=ap-29u;bool aM=aL==0u;uint aS=aM?~al:al,ak=(aS>15u?E:G)>>(2u*aS&31u)&3u;float ay=float(B>>4u*ak&15u);uint aW=clamp(uint(D[10]*H+b),0u,59u),aP=uint(aW>28u),ad=aW-29u;bool aQ=aP==0u;uint aj=aQ?~ad:ad,aT=(aj>15u?E:G)>>(2u*aj&31u)&3u;float an=float(B>>4u*aT&15u);uint a_=clamp(uint(D[14]*H+b),0u,59u),aX=uint(a_>28u),ar=a_-29u;bool aU=aX==0u;uint az=aU?~ar:ar,aa=(az>15u?E:G)>>(2u*az&31u)&3u;float aC=float(B>>4u*aa&15u);uint ai=clamp(uint(D[3]*H+b),0u,59u),aq=uint(ai>28u),aN=ai-29u;bool aY=aq==0u;uint aF=aY?~aN:aN,aH=(aF>15u?E:G)>>(2u*aF&31u)&3u;float aR=float(B>>4u*aH&15u);uint aV=clamp(uint(D[7]*H+b),0u,59u),aZ=uint(aV>28u),ac=aV-29u;bool ah=aZ==0u;uint af=ah?~ac:ac,ao=(af>15u?E:G)>>(2u*af&31u)&3u;float bu=float(B>>4u*ao&15u);uint aw=clamp(uint(D[11]*H+b),0u,59u),aD=uint(aw>28u),bx=aw-29u;bool bo=aD==0u;uint bB=bo?~bx:bx,bA=(bB>15u?E:G)>>(2u*bB&31u)&3u;float bE=float(B>>4u*bA&15u);uint be=clamp(uint(D[15]*H+b),0u,59u),bq=uint(be>28u),bg=be-29u;bool bs=bq==0u;uint bv=bs?~bg:bg,bK=(bv>15u?E:G)>>(2u*bv&31u)&3u;float bG=float(B>>4u*bK&15u);uint bb=(aO|aI<<2u)<<uint(21)|(ak|aL<<2u)<<uint(18)|(aT|aP<<2u)<<uint(15)|(aa|aX<<2u)<<uint(12)|(aH|aq<<2u)<<uint(9)|(ao|aZ<<2u)<<uint(6)|(bA|aD<<2u)<<uint(3)|(bK|bq<<2u),bj=uint(clamp(F*15.9375-((J?-1.-v:v)+(M?-1.-N:N)+(Q?-1.-R:R)+(U?-1.-V:V)+(Y?-1.-Z:Z)+(h?-1.-o:o)+(w?-1.-au:au)+(as?-1.-aE:aE)+(aJ?-1.-aG:aG)+(aM?-1.-ay:ay)+(aQ?-1.-an:an)+(aU?-1.-aC:aC)+(aY?-1.-aR:aR)+(ah?-1.-bu:bu)+(bo?-1.-bE:bE)+(bs?-1.-bG:bG))*e*.0625+.5,0.,255.))|(uint(e)<<uint(12)|(s?2u:13u)<<uint(8))|av&16711680u|(av&65280u)<<uint(16),bO=av&255u|(bb&16711680u)>>uint(8)|(bb&65280u)<<uint(8)|(bb&255u)<<uint(24);f=uvec4(bj&65535u,bj>>uint(16),bO&65535u,bO>>uint(16));}
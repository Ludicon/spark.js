const float t[8]=float[](0.,.140625,.28125,.421875,.578125,.71875,.859375,1.);uniform mediump sampler2D c;layout(location=0)out uvec4 u;void main(){ivec2 i=ivec2(uvec2(gl_FragCoord.xy)*uvec2(4u));int m=i.x,e=i.y;vec4 f=texelFetch(c,i,0);float x=f.x,b=x;int y=m+1;f=texelFetch(c,ivec2(y,e),0);float a=f.x;int g=m+2;f=texelFetch(c,ivec2(g,e),0);float l=f.x;int n=m+3;f=texelFetch(c,ivec2(n,e),0);float s=f.x;int d=e+1;f=texelFetch(c,ivec2(m,d),0);float C=f.x;f=texelFetch(c,ivec2(y,d),0);float D=f.x;f=texelFetch(c,ivec2(g,d),0);float F=f.x;f=texelFetch(c,ivec2(n,d),0);float I=f.x;d=e+2;f=texelFetch(c,ivec2(m,d),0);float H=f.x;f=texelFetch(c,ivec2(y,d),0);float G=f.x;f=texelFetch(c,ivec2(g,d),0);float E=f.x;f=texelFetch(c,ivec2(n,d),0);float B=f.x;d=e+3;f=texelFetch(c,ivec2(m,d),0);float A=f.x;f=texelFetch(c,ivec2(y,d),0);float J=f.x;f=texelFetch(c,ivec2(g,d),0);float K=f.x;f=texelFetch(c,ivec2(n,d),0);float k=f.x,v=min(min(min(min(min(min(min(min(min(min(min(min(min(min(min(min(1.,b),a),l),s),C),D),F),I),H),G),E),B),A),J),K),k),L=max(max(max(max(max(max(max(max(max(max(max(max(max(max(max(max(0.,b),a),l),s),C),D),F),I),H),G),E),B),A),J),K),k),M=L-v,N=M<.0625?max(0.,M*.0625-.0625):M*.03125,O=v>0.?v+N:v;M=trunc((O<1.?L-N:L)*255.+.5);L=trunc(O*255.+.5);v=L==128.?127.:L;b=M==128.?127.:M;uvec2 P;do{if(b==v){P=uvec2(0u);break;}float f=v-b,t=b*(-1./f);f=255./f;uint d=uint(clamp(H*f+t,0.,1.)*7.+.5);uvec2 u=uvec2(uint(clamp(x*f+t,0.,1.)*7.+.5)|uint(clamp(a*f+t,0.,1.)*7.+.5)<<uint(3)|uint(clamp(l*f+t,0.,1.)*7.+.5)<<uint(6)|uint(clamp(s*f+t,0.,1.)*7.+.5)<<uint(9)|uint(clamp(C*f+t,0.,1.)*7.+.5)<<uint(12)|uint(clamp(D*f+t,0.,1.)*7.+.5)<<uint(15)|uint(clamp(F*f+t,0.,1.)*7.+.5)<<uint(18)|uint(clamp(I*f+t,0.,1.)*7.+.5)<<uint(21),d);u.y=d|uint(clamp(G*f+t,0.,1.)*7.+.5)<<uint(3)|uint(clamp(E*f+t,0.,1.)*7.+.5)<<uint(6)|uint(clamp(B*f+t,0.,1.)*7.+.5)<<uint(9)|uint(clamp(A*f+t,0.,1.)*7.+.5)<<uint(12)|uint(clamp(J*f+t,0.,1.)*7.+.5)<<uint(15)|uint(clamp(K*f+t,0.,1.)*7.+.5)<<uint(18)|uint(clamp(k*f+t,0.,1.)*7.+.5)<<uint(21);P=u;break;}while(false);bool Q;float R,S;do{uint f=P.x&7u;float u=1.-t[f];uint d=P.x>>uint(3)&7u;float m=1.-t[d];uint y=P.x>>uint(6)&7u;float M=1.-t[y];uint L=P.x>>uint(9)&7u;float e=1.-t[L];uint n=P.x>>uint(12)&7u;float N=1.-t[n];uint g=P.x>>uint(15)&7u;float O=1.-t[g];uint i=P.x>>uint(18)&7u;float c=1.-t[i];uint T=P.x>>uint(21)&7u;float U=1.-t[T];uint V=P.y&7u;float W=1.-t[V];uint X=P.y>>uint(3)&7u;float Y=1.-t[X];uint Z=P.y>>uint(6)&7u;float _=1.-t[Z];uint h=P.y>>uint(9)&7u;float j=1.-t[h];uint o=P.y>>uint(12)&7u;float p=1.-t[o];uint q=P.y>>uint(15)&7u;float r=1.-t[q];uint w=P.y>>uint(18)&7u;float z=1.-t[w];uint at=P.y>>uint(21)&7u;float am=1.-t[at],ax=u*u+m*m+M*M+e*e+N*N+O*O+c*c+U*U+W*W+Y*Y+_*_+j*j+p*p+r*r+z*z+am*am,au=t[f]*t[f]+t[d]*t[d]+t[y]*t[y]+t[L]*t[L]+t[n]*t[n]+t[g]*t[g]+t[i]*t[i]+t[T]*t[T]+t[V]*t[V]+t[X]*t[X]+t[Z]*t[Z]+t[h]*t[h]+t[o]*t[o]+t[q]*t[q]+t[w]*t[w]+t[at]*t[at],af=u*t[f]+m*t[d]+M*t[y]+e*t[L]+N*t[n]+O*t[g]+c*t[i]+U*t[T]+W*t[V]+Y*t[X]+_*t[Z]+j*t[h]+p*t[o]+r*t[q]+z*t[w]+am*t[at];p=u*x+m*a+M*l+e*s+N*C+O*D+c*F+U*I+W*H+Y*G+_*E+j*B+p*A+r*J+z*K+am*k;r=t[f]*x+t[d]*a+t[y]*l+t[L]*s+t[n]*C+t[g]*D+t[i]*F+t[T]*I+t[V]*H+t[X]*G+t[Z]*E+t[h]*B+t[o]*A+t[q]*J+t[w]*K+t[at]*k;z=ax*au-af*af;if(abs(z)<.0000999999974738){S=v;R=b;Q=false;break;}am=1./z;au=trunc(clamp((p*au-r*af)*am,0.,1.)*255.+.5);am=trunc(clamp((r*ax-p*af)*am,0.,1.)*255.+.5);am=am==128.?127.:am;ax=au==128.?127.:au;S=am;R=ax;Q=ax!=b||am!=v;break;}while(false);uvec2 z;if(Q){uvec2 f;do{if(R==S){f=uvec2(0u);break;}float u=S-R,t=R*(-1./u);u=255./u;uint d=uint(clamp(H*u+t,0.,1.)*7.+.5);uvec2 P=uvec2(uint(clamp(x*u+t,0.,1.)*7.+.5)|uint(clamp(a*u+t,0.,1.)*7.+.5)<<uint(3)|uint(clamp(l*u+t,0.,1.)*7.+.5)<<uint(6)|uint(clamp(s*u+t,0.,1.)*7.+.5)<<uint(9)|uint(clamp(C*u+t,0.,1.)*7.+.5)<<uint(12)|uint(clamp(D*u+t,0.,1.)*7.+.5)<<uint(15)|uint(clamp(F*u+t,0.,1.)*7.+.5)<<uint(18)|uint(clamp(I*u+t,0.,1.)*7.+.5)<<uint(21),d);P.y=d|uint(clamp(G*u+t,0.,1.)*7.+.5)<<uint(3)|uint(clamp(E*u+t,0.,1.)*7.+.5)<<uint(6)|uint(clamp(B*u+t,0.,1.)*7.+.5)<<uint(9)|uint(clamp(A*u+t,0.,1.)*7.+.5)<<uint(12)|uint(clamp(J*u+t,0.,1.)*7.+.5)<<uint(15)|uint(clamp(K*u+t,0.,1.)*7.+.5)<<uint(18)|uint(clamp(k*u+t,0.,1.)*7.+.5)<<uint(21);f=P;break;}while(false);z=f;}else z=P;uint p=(z.x&7190235u)+2396745u^z.x&9586980u,r=p^(19173960u-(p&14380470u)&19173960u)>>uint(3),T=(z.y&7190235u)+2396745u^z.y&9586980u,U=uint(R)|uint(S)<<uint(8)|r<<uint(16),V=r>>uint(16)|(T^(19173960u-(T&14380470u)&19173960u)>>uint(3))<<uint(8);u=uvec4(U&65535u,U>>uint(16),V&65535u,V>>uint(16));}